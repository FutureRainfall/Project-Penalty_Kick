# 点球大战 v1.1 :soccer:

### v1.1更新：打包为exe（重点），增加彩色字符输出，完善逻辑

**简单做了一个小游戏，*点球大战*。**
功能：玩家和电脑电脑玩家进行虚拟的点球大战。

## 玩法

玩家和电脑对战，总共三个方向：**左、中、右**。

> 1. 新玩家注册 / 老玩家直接登录，获取存档数据。
> 2. 回合开始，玩家先进攻（*踢球*），电脑玩家防守（*扑球*）。电脑随机选择一个方向，玩家也选择一个，如果这两个方向一致，说明电脑扑球和玩家踢球方向一致，这样就是玩家射门失败（电脑防守成功）；方向不一致就是射门成功。
> 3. 攻防转换，电脑随机方向射门，玩家选择方向扑救，方向一致则扑救成功。

每次进球的一方得一分，没进不得分。五局三胜，平局则加时。分差过大可以提前结束比赛（因为再怎么踢也赢不了了，比如踢了个3:0）。

## 亮点

### 存档

游戏内容本身很简单，不过制作中途引入了一个**数据保存**和**用户登录**的机制，就是可以根据不同玩家每次玩完都保存记录。

### 注册/登录

因为有了用户的概念和记录保存机制，所以后面又考虑加入**用户密码登录**和**加密数据保存**的功能，以防止本地数据被篡改，这样就更加像一个成熟的游戏了。这个功能耗费了大量的研究，主要是加密数据这里，如何让数据更加安全，基本不会被一般人破解。

### 动画

用字符模拟球门、足球和守门员，增加视觉效果，让游戏体验更上一层楼。

## 说明

### 下载

下载Penalty_Kick压缩包。使用时压缩包整体解压。

> **下载地址：[Penalty_Kick V1.1 Release](https://github.com/FutureRainfall/Penalty_Kick/releases/download/v1.1/Penalty_Kick.zip "下载")**

- 游戏代码使用*python*编写。
- 在 `\Penalty_Kick\files\`文件夹中，`users.pk`存储了加密的用户密码，`save.pk`则加密存储了所有用户的游戏存档信息。目前这两个文件里已经存在了一个用户名为***test***、密码为***test***的用户及其游戏记录。
- `\Penalty_Kick\libs\files\`文件夹中包含了所有所需代码。主执行模块为 `main.py`；`data_encrypt.py`为加密模块，`Login.py`为登录模块。

> 代码里有很详细的注释，可以看一看

### 运行

***可选择以下两种运行方式：***

**1. 运行exe**

- 已使用 pyinstaller 将文件打包成可执行文件，使用时双击打开 `\Penalty_Kick\Penalty_Kick.exe`，即可使用控制台进行游戏。

**2. 使用运行python代码的方式（不推荐）：**

> 必须装有 python 3.11.5 以及必要第三方库才可通过此方式运行。  
详见***补充说明***。

在此前提下，在`\Penalty_Kick\libs\`路径中运行终端，执行`python Penalty_Kick.py`即可开始游戏。*此方法可和 “运行exe” 方式共享用户信息和游戏数据。*
> [!WARNING]
> **注意：** 请勿更改各文件相对位置，否则可能出现无法读取用户信息和存档数据或其他的情况。

### 补充说明
**本程序编写环境：**  
- python版本：3.11.5  
- 使用的第三方库：  
cryptography 42.0.2  
rich 13.3.5 
